"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

require("source-map-support/register");

var _support = require("@appium/support");

var _sinon = _interopRequireDefault(require("sinon"));

var _deviceSettings = require("../../../lib/basedriver/device-settings");

var _errors = require("../../../lib/protocol/errors");

const {
  expect
} = chai;
describe('DeviceSettings', function () {
  let sandbox;
  beforeEach(function () {
    sandbox = _sinon.default.createSandbox();
  });
  afterEach(function () {
    sandbox.restore();
  });
  describe('constructor', function () {
    describe('when no parameteres are provided to the constructor', function () {
      it('should not throw', function () {
        expect(() => new _deviceSettings.DeviceSettings()).not.to.throw();
      });
    });
  });
  describe('instance method', function () {
    describe('getSettings()', function () {
      it('should return a clone of the internal settings object', function () {
        const settings = {
          foo: 'bar',
          bar: 'foo'
        };
        const deviceSettings = new _deviceSettings.DeviceSettings(settings);
        expect(deviceSettings.getSettings()).to.eql(settings);
      });
    });
    describe('update()', function () {
      describe('when no parameters are provided', function () {
        it('should reject with an InvalidArgumentError', async function () {
          const deviceSettings = new _deviceSettings.DeviceSettings();
          await expect(deviceSettings.update()).to.be.rejectedWith(_errors.InvalidArgumentError, /with valid JSON/i);
        });
      });
      describe('when a non-plain-object `newSettings` param is provided', function () {
        it('should reject with an InvalidArgumentError', async function () {
          const deviceSettings = new _deviceSettings.DeviceSettings();
          await expect(deviceSettings.update(null)).to.be.rejectedWith(_errors.InvalidArgumentError, /with valid JSON/i);
        });
      });
      describe('when the size of the `newSettings` param exceeds `MAX_SETTINGS_SIZE`', function () {
        beforeEach(function () {
          sandbox.stub(_support.node, 'getObjectSize').returns(_deviceSettings.MAX_SETTINGS_SIZE + 1);
        });
        it('should reject with an InvalidArgumentError', async function () {
          const deviceSettings = new _deviceSettings.DeviceSettings();
          await expect(deviceSettings.update({
            stuff: 'things'
          })).to.be.rejectedWith(_errors.InvalidArgumentError, /object size exceeds/i);
        });
      });
      describe('when the `newSettings` param is valid', function () {
        let onSettingsUpdate;
        beforeEach(function () {
          onSettingsUpdate = sandbox.stub();
        });
        describe('when the new settings do not differ', function () {
          it('should not call the `_onSettingsUpdate` listener', async function () {
            const deviceSettings = new _deviceSettings.DeviceSettings({
              stuff: 'things'
            }, onSettingsUpdate);
            await deviceSettings.update({
              stuff: 'things'
            });
            expect(onSettingsUpdate).not.to.have.been.called;
          });
        });
        describe('when the new settings differ', function () {
          it('should call the `_onSettingsUpdate` listener', async function () {
            const deviceSettings = new _deviceSettings.DeviceSettings({}, onSettingsUpdate);
            await deviceSettings.update({
              stuff: 'things'
            });
            expect(onSettingsUpdate).to.have.been.calledOnceWithExactly('stuff', 'things', undefined);
          });
        });
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Rlc3QvdW5pdC9iYXNlZHJpdmVyL2RldmljZS1zZXR0aW5ncy5zcGVjLmpzIl0sIm5hbWVzIjpbImV4cGVjdCIsImNoYWkiLCJkZXNjcmliZSIsInNhbmRib3giLCJiZWZvcmVFYWNoIiwic2lub24iLCJjcmVhdGVTYW5kYm94IiwiYWZ0ZXJFYWNoIiwicmVzdG9yZSIsIml0IiwiRGV2aWNlU2V0dGluZ3MiLCJub3QiLCJ0byIsInRocm93Iiwic2V0dGluZ3MiLCJmb28iLCJiYXIiLCJkZXZpY2VTZXR0aW5ncyIsImdldFNldHRpbmdzIiwiZXFsIiwidXBkYXRlIiwiYmUiLCJyZWplY3RlZFdpdGgiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsInN0dWIiLCJub2RlIiwicmV0dXJucyIsIk1BWF9TRVRUSU5HU19TSVpFIiwic3R1ZmYiLCJvblNldHRpbmdzVXBkYXRlIiwiaGF2ZSIsImJlZW4iLCJjYWxsZWQiLCJjYWxsZWRPbmNlV2l0aEV4YWN0bHkiLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU07QUFBQ0EsRUFBQUE7QUFBRCxJQUFXQyxJQUFqQjtBQUVBQyxRQUFRLENBQUMsZ0JBQUQsRUFBbUIsWUFBWTtBQUNyQyxNQUFJQyxPQUFKO0FBRUFDLEVBQUFBLFVBQVUsQ0FBQyxZQUFZO0FBQ3JCRCxJQUFBQSxPQUFPLEdBQUdFLGVBQU1DLGFBQU4sRUFBVjtBQUNELEdBRlMsQ0FBVjtBQUlBQyxFQUFBQSxTQUFTLENBQUMsWUFBWTtBQUNwQkosSUFBQUEsT0FBTyxDQUFDSyxPQUFSO0FBQ0QsR0FGUSxDQUFUO0FBSUFOLEVBQUFBLFFBQVEsQ0FBQyxhQUFELEVBQWdCLFlBQVk7QUFDbENBLElBQUFBLFFBQVEsQ0FBQyxxREFBRCxFQUF3RCxZQUFZO0FBQzFFTyxNQUFBQSxFQUFFLENBQUMsa0JBQUQsRUFBcUIsWUFBWTtBQUNqQ1QsUUFBQUEsTUFBTSxDQUFDLE1B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QUEsS0FBSyxFQUFFO0FBQVIsYUFBbkIsRUFBc0NDLGdCQUF0QyxDQUF2QjtBQUNBLGtCQUFNWixjQUFjLENBQUNHLE1BQWYsQ0FBc0I7QUFBQ1EsY0FBQUEsS0FBSyxFQUFFO0FBQVIsYUFBdEIsQ0FBTjtBQUNBNUIsWUFBQUEsTUFBTSxDQUFDNkIsZ0JBQUQsQ0FBTixDQUF5QmxCLEdBQXpCLENBQTZCQyxFQUE3QixDQUFnQ2tCLElBQWhDLENBQXFDQyxJQUFyQyxDQUEwQ0MsTUFBMUM7QUFDRCxXQUpDLENBQUY7QUFLRCxTQU5PLENBQVI7QUFRQTlCLFFBQUFBLFFBQVEsQ0FBQyw4QkFBRCxFQUFpQyxZQUFZO0FBQ25ETyxVQUFBQSxFQUFFLENBQUMsOENBQUQsRUFBaUQsa0JBQWtCO0FBQ25FLGtCQUFNUSxjQUFjLEdBQUcsSUFBSVAsOEJBQUosQ0FBbUIsRUFBbkIsRUFBdUJtQixnQkFBdkIsQ0FBdkI7QUFDQSxrQkFBTVosY0FBYyxDQUFDRyxNQUFmLENBQXNCO0FBQUNRLGNBQUFBLEtBQUssRUFBRTtBQUFSLGFBQXRCLENBQU47QUFDQTVCLFlBQUFBLE1BQU0sQ0FBQzZCLGdCQUFELENBQU4sQ0FBeUJqQixFQUF6QixDQUE0QmtCLElBQTVCLENBQWlDQyxJQUFqQyxDQUFzQ0UscUJBQXRDLENBQTRELE9BQTVELEVBQXFFLFFBQXJFLEVBQStFQyxTQUEvRTtBQUNELFdBSkMsQ0FBRjtBQUtELFNBTk8sQ0FBUjtBQU9ELE9BdEJPLENBQVI7QUF1QkQsS0F4RE8sQ0FBUjtBQXlERCxHQXJFTyxDQUFSO0FBc0VELENBekZPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub2RlIH0gZnJvbSAnQGFwcGl1bS9zdXBwb3J0JztcbmltcG9ydCBzaW5vbiBmcm9tICdzaW5vbic7XG5pbXBvcnQgeyBEZXZpY2VTZXR0aW5ncywgTUFYX1NFVFRJTkdTX1NJWkUgfSBmcm9tICcuLi8uLi8uLi9saWIvYmFzZWRyaXZlci9kZXZpY2Utc2V0dGluZ3MnO1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi8uLi8uLi9saWIvcHJvdG9jb2wvZXJyb3JzJztcblxuY29uc3Qge2V4cGVjdH0gPSBjaGFpO1xuXG5kZXNjcmliZSgnRGV2aWNlU2V0dGluZ3MnLCBmdW5jdGlvbiAoKSB7XG4gIGxldCBzYW5kYm94O1xuXG4gIGJlZm9yZUVhY2goZnVuY3Rpb24gKCkge1xuICAgIHNhbmRib3ggPSBzaW5vbi5jcmVhdGVTYW5kYm94KCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaChmdW5jdGlvbiAoKSB7XG4gICAgc2FuZGJveC5yZXN0b3JlKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjb25zdHJ1Y3RvcicsIGZ1bmN0aW9uICgpIHtcbiAgICBkZXNjcmliZSgnd2hlbiBubyBwYXJhbWV0ZXJlcyBhcmUgcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yJywgZnVuY3Rpb24gKCkge1xuICAgICAgaXQoJ3Nob3VsZCBub3QgdGhyb3cnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGV4cGVjdCgoKSA9PiBuZXcgRGV2aWNlU2V0dGluZ3MoKSkubm90LnRvLnRocm93KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2luc3RhbmNlIG1ldGhvZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkZXNjcmliZSgnZ2V0U2V0dGluZ3MoKScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgY2xvbmUgb2YgdGhlIGludGVybmFsIHNldHRpbmdzIG9iamVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgICAgICAgZm9vOiAnYmFyJyxcbiAgICAgICAgICBiYXI6ICdmb28nLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkZXZpY2VTZXR0aW5ncyA9IG5ldyBEZXZpY2VTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICAgIGV4cGVjdChkZXZpY2VTZXR0aW5ncy5nZXRTZXR0aW5ncygpKS50by5lcWwoc2V0dGluZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgndXBkYXRlKCknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBkZXNjcmliZSgnd2hlbiBubyBwYXJhbWV0ZXJzIGFyZSBwcm92aWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXQoJ3Nob3VsZCByZWplY3Qgd2l0aCBhbiBJbnZhbGlkQXJndW1lbnRFcnJvcicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCBkZXZpY2VTZXR0aW5ncyA9IG5ldyBEZXZpY2VTZXR0aW5ncygpO1xuICAgICAgICAgIGF3YWl0IGV4cGVjdChkZXZpY2VTZXR0aW5ncy51cGRhdGUoKSkudG8uYmUucmVqZWN0ZWRXaXRoKFxuICAgICAgICAgICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsIC93aXRoIHZhbGlkIEpTT04vaVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGRlc2NyaWJlKCd3aGVuIGEgbm9uLXBsYWluLW9iamVjdCBgbmV3U2V0dGluZ3NgIHBhcmFtIGlzIHByb3ZpZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpdCgnc2hvdWxkIHJlamVjdCB3aXRoIGFuIEludmFsaWRBcmd1bWVudEVycm9yJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnN0IGRldmljZVNldHRpbmdzID0gbmV3IERldmljZVNldHRpbmdzKCk7XG4gICAgICAgICAgYXdhaXQgZXhwZWN0KGRldmljZVNldHRpbmdzLnVwZGF0ZShudWxsKSkudG8uYmUucmVqZWN0ZWRXaXRoKFxuICAgICAgICAgICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsIC93aXRoIHZhbGlkIEpTT04vaVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGRlc2NyaWJlKCd3aGVuIHRoZSBzaXplIG9mIHRoZSBgbmV3U2V0dGluZ3NgIHBhcmFtIGV4Y2VlZHMgYE1BWF9TRVRUSU5HU19TSVpFYCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYmVmb3JlRWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyBlYXNpZXIgdGhhbiBzZW5kaW5nIGEgMjFNQiBvYmplY3RcbiAgICAgICAgICBzYW5kYm94LnN0dWIobm9kZSwgJ2dldE9iamVjdFNpemUnKS5yZXR1cm5zKE1BWF9TRVRUSU5HU19TSVpFICsgMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmVqZWN0IHdpdGggYW4gSW52YWxpZEFyZ3VtZW50RXJyb3InLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3QgZGV2aWNlU2V0dGluZ3MgPSBuZXcgRGV2aWNlU2V0dGluZ3MoKTtcbiAgICAgICAgICBhd2FpdCBleHBlY3QoZGV2aWNlU2V0dGluZ3MudXBkYXRlKHtzdHVmZjogJ3RoaW5ncyd9KSkudG8uYmUucmVqZWN0ZWRXaXRoKFxuICAgICAgICAgICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsIC9vYmplY3Qgc2l6ZSBleGNlZWRzL2lcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBkZXNjcmliZSgnd2hlbiB0aGUgYG5ld1NldHRpbmdzYCBwYXJhbSBpcyB2YWxpZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IG9uU2V0dGluZ3NVcGRhdGU7XG5cbiAgICAgICAgYmVmb3JlRWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25TZXR0aW5nc1VwZGF0ZSA9IHNhbmRib3guc3R1YigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkZXNjcmliZSgnd2hlbiB0aGUgbmV3IHNldHRpbmdzIGRvIG5vdCBkaWZmZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaXQoJ3Nob3VsZCBub3QgY2FsbCB0aGUgYF9vblNldHRpbmdzVXBkYXRlYCBsaXN0ZW5lcicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZVNldHRpbmdzID0gbmV3IERldmljZVNldHRpbmdzKHtzdHVmZjogJ3RoaW5ncyd9LCBvblNldHRpbmdzVXBkYXRlKTtcbiAgICAgICAgICAgIGF3YWl0IGRldmljZVNldHRpbmdzLnVwZGF0ZSh7c3R1ZmY6ICd0aGluZ3MnfSk7XG4gICAgICAgICAgICBleHBlY3Qob25TZXR0aW5nc1VwZGF0ZSkubm90LnRvLmhhdmUuYmVlbi5jYWxsZWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlc2NyaWJlKCd3aGVuIHRoZSBuZXcgc2V0dGluZ3MgZGlmZmVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGl0KCdzaG91bGQgY2FsbCB0aGUgYF9vblNldHRpbmdzVXBkYXRlYCBsaXN0ZW5lcicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZVNldHRpbmdzID0gbmV3IERldmljZVNldHRpbmdzKHt9LCBvblNldHRpbmdzVXBkYXRlKTtcbiAgICAgICAgICAgIGF3YWl0IGRldmljZVNldHRpbmdzLnVwZGF0ZSh7c3R1ZmY6ICd0aGluZ3MnfSk7XG4gICAgICAgICAgICBleHBlY3Qob25TZXR0aW5nc1VwZGF0ZSkudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2VXaXRoRXhhY3RseSgnc3R1ZmYnLCAndGhpbmdzJywgdW5kZWZpbmVkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==